(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{57:function(e,t,a){},58:function(e,t,a){},71:function(e,t,a){},81:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(44),i=a.n(r),o=(a(57),a(6)),d=(a(58),a(15));var j=function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)(d.b,{to:"/",children:Object(n.jsx)("button",{type:"button",children:"APP"})}),Object(n.jsx)(d.b,{to:"/signin",children:Object(n.jsx)("button",{type:"button",children:"Log In"})})]}),Object(n.jsx)("section",{id:"section1",children:Object(n.jsx)("div",{className:"main",children:Object(n.jsxs)("header",{children:["PARKING!",Object(n.jsx)("br",{}),"Space Sharing \ud83d\ude97 \ud83d\ude97 \ud83d\ude97",Object(n.jsxs)("a",{class:"scroll",href:"#section2",children:[Object(n.jsx)("span",{}),"Down"]})]})})}),Object(n.jsxs)("section",{id:"section2",children:[Object(n.jsxs)("a",{className:"scroll",href:"#section1",children:[Object(n.jsx)("span",{}),"Up"]}),Object(n.jsxs)("div",{className:"main",id:"second",children:[Object(n.jsx)("header",{children:"Join Us Today"}),Object(n.jsx)("p",{children:"By simply create your own user account and freely post/ search the driveway in your area."})]})]})]})},l=a(16),u=a(3),b=a.n(u),m=a(8),h=a(4),O=a(95),p=a(96),f=a(46),x=a(13),y=a.n(x),g=a(20),v=a.n(g),T=a(11),S=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get_token",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/check_current_login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/check_email_and_password",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/delete_login_token",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var C=function(){var e=Object(T.g)();Object(s.useEffect)((function(){var e=localStorage.getItem("current-user");e&&(r(e),u(Object(h.a)(Object(h.a)({},j),{},{email:e})))}),[]),Object(s.useEffect)((function(){t()}),[]);var t=function(){var t=Object(m.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=localStorage.getItem("current-user"))){t.next=7;break}return t.next=4,N({email:a});case 4:n=t.sent,console.log(n),!1===n.result&&e.push("/v_signin");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=Object(s.useState)(),c=Object(o.a)(a,2),r=(c[0],c[1]),i=Object(s.useState)({email:"",street:"",city:"",state:"",zip:"",parkingFee:"",Monday:!1,Tuesday:!1,Wednesday:!1,Thursday:!1,Friday:!1,Saturday:!1,Sunday:!1,MondayStartTime:"",TuesdayStartTime:"",WednesdayStartTime:"",ThursdayStartTime:"",FridayStartTime:"",SaturdayStartTime:"",SundayStartTime:"",MondayEndTime:"",TuesdayEndTime:"",WednesdayEndTime:"",ThursdayEndTime:"",FridayEndTime:"",SaturdayEndTime:"",SundayEndTime:"",userId:"123"}),d=Object(o.a)(i,2),j=d[0],u=d[1],x=Object(s.useState)(""),g=Object(o.a)(x,2),S=g[0],w=(g[1],function(e){u(Object(h.a)(Object(h.a)({},j),{},Object(l.a)({},e.target.name,e.target.value)))}),k=function(e){u(Object(h.a)(Object(h.a)({},j),{},Object(l.a)({},e.target.id,e.target.checked))),console.log(j.monday)};return Object(n.jsx)("div",{children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)("br",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Address Info"}),Object(n.jsxs)(p.a,{children:[Object(n.jsxs)(p.a.Group,{controlId:"formGridAddress1",children:[Object(n.jsx)(p.a.Label,{children:"Location"}),Object(n.jsx)(p.a.Control,{placeholder:" ",name:"street",value:j.street,onChange:w})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Group,{as:f.a,controlId:"formGridCity",children:[Object(n.jsx)(p.a.Label,{children:"Street"}),Object(n.jsx)(p.a.Control,{type:"text",placeholder:" ",name:"city",value:j.city,onChange:w})]}),Object(n.jsxs)(p.a.Group,{as:f.a,controlId:"formGridState",children:[Object(n.jsx)(p.a.Label,{children:"District"}),Object(n.jsx)(p.a.Control,{as:"select",defaultValue:"Choose...",name:"state",value:j.state,onChange:w,children:["Aberdden","Fan Lau","Fanling","Hoi Ha","Ham Tin","Kam Tin","Kwai Chung","Kowloon Tong","Ma Liu Shui","Mo Tat Wan","Nim Wan","Pak Tam Au","Po Lam","Sai Kung","Sham Chung","Sha Tau","Sha Tin","Sheung Shui","TaiAu Mun","TaiMei Tuk","Tai O","Tung Chung","Tuen Mun","Victoria Peak","Wan"].map((function(e){return Object(n.jsx)("option",{children:e})}))})]}),Object(n.jsxs)(p.a.Group,{as:f.a,controlId:"formGridZip",children:[Object(n.jsx)(p.a.Label,{children:"Zip"}),Object(n.jsx)(p.a.Control,{type:"number",name:"zip",value:j.zip,onChange:w})]})]}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{className:"col-sm-4 ",controlId:"formGridAddress1",children:[Object(n.jsx)(p.a.Label,{children:"Parking Fee"}),Object(n.jsx)(p.a.Control,{type:"number",placeholder:"$",name:"parkingFee",value:j.parkingFee,onChange:w})]})})]})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(O.a,{className:"row",children:[Object(n.jsx)("h5",{children:"Schedual Time"}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"col-sm-8",children:[Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)("div",{as:f.a,className:"col-sm-2 align-self-center",children:[Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Monday",onChange:k}),Object(n.jsx)("label",{children:"Monday"})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("h6",{className:"d-flex justify-content-center",children:"Start "}),Object(n.jsx)(y.a,{start:"0",end:"24",name:"StartTime",step:30,disabled:!j.Monday,value:j.MondayStartTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{MondayStartTime:e}))}})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("h6",{className:"d-flex justify-content-center",children:"End"}),Object(n.jsx)(y.a,{start:"0",end:"24",step:30,name:"EndTime",disabled:!j.Monday,value:j.MondayEndTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{MondayEndTime:e}))}})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)("div",{as:f.a,className:"col-sm-2 align-self-center",children:[Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Tuesday",onChange:k}),Object(n.jsx)("label",{children:"Tuesday"})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",name:"StartTime",step:30,disabled:!j.Tuesday,value:j.TuesdayStartTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{TuesdayStartTime:e}))}})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",step:30,name:"EndTime",disabled:!j.Tuesday,value:j.TuesdayEndTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{TuesdayEndTime:e}))}})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)("div",{as:f.a,className:"col-sm-2 align-self-center",children:[Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Wednesday",onChange:k}),Object(n.jsx)("label",{children:"Wednesday"})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",name:"StartTime",step:30,disabled:!j.Wednesday,value:j.WednesdayStartTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{WednesdayStartTime:e}))}})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",step:30,name:"EndTime",disabled:!j.Wednesday,value:j.WednesdayEndTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{WednesdayEndTime:e}))}})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)("div",{as:f.a,className:"col-sm-2 align-self-center",children:[Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Thursday",onChange:k}),Object(n.jsx)("label",{children:"Thursday"})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",name:"StartTime",step:30,disabled:!j.Thursday,value:j.ThursdayStartTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{ThursdayStartTime:e}))}})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",step:30,name:"EndTime",disabled:!j.Thursday,value:j.ThursdayEndTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{ThursdayEndTime:e}))}})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)("div",{as:f.a,className:"col-sm-2 align-self-center",children:[Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Friday",onChange:k}),Object(n.jsx)("label",{children:"Friday"})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",name:"StartTime",step:30,disabled:!j.Friday,value:j.FridayStartTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{FridayStartTime:e}))}})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",step:30,name:"EndTime",disabled:!j.Friday,value:j.FridayEndTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{FridayEndTime:e}))}})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)("div",{as:f.a,className:"col-sm-2 align-self-center",children:[Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Saturday",onChange:k}),Object(n.jsx)("label",{children:"Saturday"})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",name:"StartTime",step:30,disabled:!j.Saturday,value:j.SaturdayStartTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{SaturdayStartTime:e}))}})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",step:30,name:"EndTime",disabled:!j.Saturday,value:j.SaturdayEndTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{SaturdayEndTime:e}))}})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)("div",{as:f.a,className:"col-sm-2 align-self-center",children:[Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Sunday",onChange:k}),Object(n.jsx)("label",{children:"Sunday"})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",name:"StartTime",step:30,disabled:!j.Sunday,value:j.SundayStartTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{SundayStartTime:e}))}})]}),Object(n.jsxs)("div",{as:f.a,className:"col-sm-3",children:[Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{start:"0",end:"24",step:30,name:"EndTime",disabled:!j.Sunday,value:j.SundayEndTime,onChange:function(e){u(Object(h.a)(Object(h.a)({},j),{},{SundayEndTime:e}))}})]})]})]}),Object(n.jsx)("div",{className:"col-sm-4",children:Object(n.jsx)("div",{})})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"button",className:"btn btn-dark  btn-block",onClick:function(){console.log(S),console.log(j);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)};fetch("/insert_newpost",t).then(function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v()("SUCCESS","You post is successfully published  ","success"),e.next=3,t.json();case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})),e.push("/home")},children:"Create Post"})})]})})};a(71);var E=function(e){var t;return Object(n.jsxs)("div",{className:"card text-center",style:e.style,children:[Object(n.jsx)("div",{className:"overflow",children:Object(n.jsx)("img",(t={src:"https://p.rdcpix.com/v01/l0511a742-m1xd-w640_h480_q80.jpg"},Object(l.a)(t,"src","https://www.google.com/search?q=%E6%BC%82%E4%BA%AE%E7%9A%84%E6%B0%94%E7%90%83&tbm=isch&ved=2ahUKEwjCq_3mupntAhWVop4KHV_qDdEQ2-cCegQIABAA&oq=%E6%BC%82%E4%BA%AE%E7%9A%84%E6%B0%94%E7%90%83&gs_lcp=CgNpbWcQAzoECCMQJzoCCAA6BAgAEBg6BAgAEAw6BggAEAwQGFDkDVjRHmC0ImgAcAB4AIABqQGIAcQGkgEDMi41mAEAoAEBqgELZ3dzLXdpei1pbWfAAQE&sclient=img&ei=WxW8X4KSDpXF-gTf1LeIDQ&bih=573&biw=1302#imgrc=8-hRtIgZVTJ-dM"),Object(l.a)(t,"src","https://static.wixstatic.com/media/887b10_9508996feda84e84ad4975bea2acaf8a~mv2.jpg/v1/fill/w_525,h_403,fp_0.50_0.50,lg_1,q_90/887b10_9508996feda84e84ad4975bea2acaf8a~mv2.jpg"),Object(l.a)(t,"alt","img1"),Object(l.a)(t,"className","card-img-top embed-responsive-item"),t))}),Object(n.jsxs)("div",{className:"card-body text-dark",children:[Object(n.jsx)("h4",{className:"card-title",children:"Fee: ".concat(e.parkingFee)}),Object(n.jsx)("p",{className:"card-text text-secondary",children:e.street}),Object(n.jsx)("button",{className:"btn btn-dark",name:e.name,onClick:function(){e.function(e.post)},children:e.buttonName})]})]})};var _=function(e){var t=Object(T.g)(),a=Object(s.useState)(""),c=Object(o.a)(a,2),r=c[0],i=c[1],d=Object(s.useState)(!1),j=Object(o.a)(d,2),l=j[0],u=j[1],h=Object(s.useState)(""),p=Object(o.a)(h,2),f=p[0],x=p[1],y=function(){var e=Object(m.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get_data",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,i(a),u(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){y()}),[]),Object(s.useEffect)((function(){g()}),[]);var g=function(){var e=Object(m.a)(b.a.mark((function e(){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("current-user"))){e.next=7;break}return e.next=4,N({email:a});case 4:n=e.sent,console.log(n),!1===n.result&&t.push("/v_signin");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){x(e),localStorage.setItem("post-picked",JSON.stringify(e))};return""!==f?Object(n.jsx)(T.a,{to:"/make_appointment"}):Object(n.jsx)(O.a,{children:l?Object(n.jsx)("div",{className:"grid ",children:r.map((function(e){return Object(n.jsx)(E,{post:e,parkingFee:e.parkingFee,street:e.street,name:e._id,function:v,buttonName:"Schedule for Parking"})}))}):Object(n.jsx)("h1",{children:"Loading"})})},M=(a(72),a(47)),A=a(48),W=a(39),I=a.n(W),D=a(49),F=a.n(D),Y=a(10),L=a.n(Y),H=(a(78),a(79),a(80),function(e){var t=[];!function(e){for(var a=0,n=Object.entries(e);a<n.length;a++){var s=Object(o.a)(n[a],2),c=s[0],r=s[1];"Monday"===c&&!0===r?t.push({daysOfWeek:[1],startTime:L()().startOf("day").seconds(e.MondayStartTime).format("H:mm"),endTime:L()().startOf("day").seconds(e.MondayEndTime).format("H:mm")}):"Tuesday"===c&&!0===r?t.push({daysOfWeek:[2],startTime:L()().startOf("day").seconds(e.TuesdayStartTime).format("H:mm"),endTime:L()().startOf("day").seconds(e.TuesdayEndTime).format("H:mm")}):"Wednesday"===c&&!0===r?t.push({daysOfWeek:[3],startTime:L()().startOf("day").seconds(e.WednesdayStartTime).format("H:mm"),endTime:L()().startOf("day").seconds(e.WednesdayEndTime).format("H:mm")}):"Thursday"===c&&!0===r?t.push({daysOfWeek:[4],startTime:L()().startOf("day").seconds(e.ThursdayStartTime).format("H:mm"),endTime:L()().startOf("day").seconds(e.ThursdayEndTime).format("H:mm")}):"Friday"===c&&!0===r?t.push({daysOfWeek:[5],startTime:L()().startOf("day").seconds(e.FridayStartTime).format("H:mm"),endTime:L()().startOf("day").seconds(e.FridayEndTime).format("H:mm")}):"Saturday"===c&&!0===r?t.push({daysOfWeek:[6],startTime:L()().startOf("day").seconds(e.SaturdayStartTime).format("H:mm"),endTime:L()().startOf("day").seconds(e.SaturdayEndTime).format("H:mm")}):"Sunday"===c&&!0===r&&t.push({daysOfWeek:[7],startTime:L()().startOf("day").seconds(e.SundayStartTime).format("H:mm"),endTime:L()().startOf("day").seconds(e.SundayEndTime).format("H:mm")})}}(e.selectedPost);return Object(n.jsx)(A.a,{style:e.style,className:"",plugins:[I.a,F.a],initialView:"timeGridWeek",defaultDate:new Date,selectable:!0,displayEventTime:!1,events:function(){var t,a=[],n=Object(M.a)(e.appointment);try{for(n.s();!(t=n.n()).done;){var s=t.value;a.push({title:s.renter,start:new Date(s.start),end:new Date(s.end)}),console.log(a)}}catch(c){n.e(c)}finally{n.f()}return a}(),eventColor:"#c87606 ",defaultView:"timeGridWeek",header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1},businessHours:t})}),G=(a(81),a.p+"static/media/logo.3f0fe25e.png");var B=function(e){var t=Object(T.g)(),a=Object(s.useState)(""),c=Object(o.a)(a,2),r=c[0],i=c[1],d=Object(s.useState)([]),j=Object(o.a)(d,2),l=j[0],u=j[1],h=Object(s.useState)(!1),O=Object(o.a)(h,2),p=O[0],f=O[1],x=Object(s.useState)({}),y=Object(o.a)(x,2),g=y[0],v=y[1],S=Object(s.useState)([]),w=Object(o.a)(S,2),C=w[0],_=w[1],M=function(){var e=Object(m.a)(b.a.mark((function e(t,a){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,u(s),f(!0),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(b.a.mark((function e(t,a){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e=localStorage.getItem("current-user");e&&i(e),M({email:e},"/get_data_query")}),[]),Object(s.useEffect)((function(){W()}),[]);var W=function(){var e=Object(m.a)(b.a.mark((function e(){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("current-user"))){e.next=7;break}return e.next=4,N({email:a});case 4:n=e.sent,console.log(n),!1===n.result&&t.push("/signin");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){v(e),A({post:e._id},"/get_appointment_query").then((function(e){_(e)}))},D=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r.email),k({email:r});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F={margin:"20px"};return Object(n.jsxs)("div",{className:"home-container",children:[Object(n.jsxs)("nav",{className:"home-nav",children:[Object(n.jsx)("img",{className:"home-logo",src:G,alt:"logo",height:"50"}),Object(n.jsxs)("ul",{className:"home-nav-link",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"/home",children:"Home"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"/createpost",children:"Create Post"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"/searchpage",children:"Search post"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"/MyBooking",children:"My Booking"})})]}),Object(n.jsx)("a",{href:"/#",children:Object(n.jsx)("button",{className:"homeLogOut",onClick:D,children:"Log Out"})})]}),Object(n.jsx)("main",{className:"home-active-post-title",children:Object(n.jsx)("u",{children:"Active Post"})}),p?Object(n.jsx)("nav",{className:"home-cardview ",children:l.map((function(e){return Object(n.jsx)(E,{style:F,parkingFee:e.parkingFee,post:e,street:e.street,name:e._id,function:I,buttonName:"appointments"})}))}):Object(n.jsx)("h1",{className:"home-cardview ",children:"Loading"}),Object(n.jsx)("div",{className:"home-calendar",children:0===Object.keys(g).length?"":Object(n.jsx)(H,{style:{width:"50vw",height:"50vh"},selectedPost:g,appointment:C})})]})},P=a(51),J=a(50),R=a.n(J);a(89);var q=function(){var e=Object(T.g)(),t=Object(s.useState)({}),a=Object(o.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(""),d=Object(o.a)(i,2),j=d[0],l=d[1],u=Object(s.useState)(""),h=Object(o.a)(u,2),O=h[0],p=h[1],f=Object(s.useState)(""),x=Object(o.a)(f,2),g=x[0],S=x[1],w=Object(s.useState)([]),k=Object(o.a)(w,2),C=k[0],E=k[1],_=Object(s.useState)(),M=Object(o.a)(_,2),A=M[0],W=M[1],I=function(){var e=Object(m.a)(b.a.mark((function e(t,a){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={owner:c.email,post:c._id,renter:A,start:new Date(L()(g,"YYYY/MM/DD").year(),L()(g,"YYYY/MM/DD").month(),L()(g,"YYYY/MM/DD").date(),Math.floor(j/3600),Math.floor(j%3600/60),0),end:new Date(L()(g,"YYYY/MM/DD").year(),L()(g,"YYYY/MM/DD").month(),L()(g,"YYYY/MM/DD").date(),Math.floor(O/3600),Math.floor(O%3600/60),0)},E((function(e){return[].concat(Object(P.a)(e),[t])}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var t=Object(m.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=C[C.length-1],v()("Your appointment is scheduled",{button:!1}),t.next=4,fetch("/insert_appointment",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:n=t.sent,console.log(n.body),e.push("/home");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){Y()}),[]);var Y=function(){var t=Object(m.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=localStorage.getItem("current-user"))){t.next=7;break}return t.next=4,N({email:a});case 4:n=t.sent,console.log(n),!1===n.result&&e.push("/v_signin");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){G()}),[]);var G=function(){var e=Object(m.a)(b.a.mark((function e(){var t,a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("current-user"),console.log(t),t&&W(t),e.next=5,localStorage.getItem("post-picked");case 5:if(a=e.sent,console.log(a),!a){e.next=19;break}return e.next=10,JSON.parse(a);case 10:return n=e.sent,r(n),e.next=14,I({post:n._id},"/get_appointment_query");case 14:return s=e.sent,console.log(s),console.log(c._id),e.next=19,E(s);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-3 offset-2 justify-content-end ",children:[Object(n.jsx)(R.a,{selectedDays:g,onDayClick:function(e){S(e)}}),Object(n.jsx)("h5",{children:"Start Time "}),Object(n.jsx)(y.a,{className:"col col-lg-6",start:"0",end:"24",name:"StartTime",step:30,value:j,onChange:function(e){l(e)}}),Object(n.jsx)("h5",{className:"mt-3",children:"End Time "}),Object(n.jsx)(y.a,{className:"col col-lg-6",start:"0",end:"24",name:"StartTime",step:30,value:O,onChange:function(e){p(e)}}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col justify-content-center",children:[Object(n.jsx)("button",{className:"btn-primary m-3",onClick:D,children:"Schedule"}),Object(n.jsx)("button",{className:"btn-primary m-3",onClick:F,children:"Confirm"})]})})]}),Object(n.jsx)("div",{className:"col-6 ",children:Object(n.jsx)(H,{selectedPost:c,appointment:C,selectedDate:g})})]})})]})};a(37),a(90),a(91);var Q=function(){var e=Object(T.g)(),t=Object(s.useState)({email:"",password:"",name:""}),a=Object(o.a)(t,2),c=a[0],r=a[1],i=function(e){var t=e.target.value;r(Object(h.a)(Object(h.a)({},c),{},Object(l.a)({},e.target.name,t.toLowerCase())))},j=function(){var t=Object(m.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/if_user_exist",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email.toLowerCase()})});case 2:return a=t.sent,t.next=5,a.json();case 5:if(!1!==t.sent.result){t.next=14;break}return u(),t.next=10,S({email:c.email.toLowerCase()});case 10:localStorage.setItem("current-user",c.email),e.push("/home"),t.next=15;break;case 14:v()("You already have an account, please sign in",{button:!1});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/insert_user",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"SignUp",children:Object(n.jsx)("div",{className:"container-fluid d-flex justify-content-center",children:Object(n.jsxs)("div",{className:"signcard",children:[Object(n.jsx)("div",{className:"card-header",children:Object(n.jsx)("h3",{children:"Register"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"name",children:"Username"}),Object(n.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",placeholder:" ",onChange:i})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"email",children:"Email"}),Object(n.jsx)("input",{type:"text",id:"email",name:"email",className:"form-control",placeholder:" ",onChange:i})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"password",children:"Password"}),Object(n.jsx)("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"",onChange:i})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"btn btn-dark btn-sm",style:{marginTop:"10px",width:"100px",padding:"8px"},value:"Sign Up",onClick:j})}),Object(n.jsxs)("div",{className:"form-group",children:["Already an user?"," ",Object(n.jsx)(d.b,{className:"card-footerText",to:"/signin",children:"Sign In"}),Object(n.jsx)("br",{})]})]})})]})})})})};a(92);var U=function(){var e=Object(T.g)(),t=Object(s.useState)({email:"",password:""}),a=Object(o.a)(t,2),c=a[0],r=a[1],i=function(){var t=Object(m.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c),t.next=3,w(c);case 3:a=t.sent,console.log(a),!0===a.result?(localStorage.setItem("current-user",c.email),e.push("/home")):v()("You login doesn't work, please try again",{button:!1});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(e){var t=e.target.value;r(Object(h.a)(Object(h.a)({},c),{},Object(l.a)({},e.target.name,t.toLowerCase())))};return console.log(c),Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"SignIn",children:Object(n.jsx)("div",{className:"container-fluid d-flex justify-content-center",children:Object(n.jsxs)("div",{className:"signcard",children:[Object(n.jsx)("div",{className:"card-header",children:Object(n.jsx)("h3",{children:"Log In"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"inputEmail",children:"Email"}),Object(n.jsx)("input",{type:"text",id:"email",className:"form-control",placeholder:" ",name:"email",onChange:j})]}),Object(n.jsxs)("div",{className:"form group",children:[Object(n.jsx)("label",{for:"inputPassword",children:"Password"}),Object(n.jsx)("input",{type:"password",id:"password",className:"form-control",placeholder:" ",name:"password",onChange:j})]}),Object(n.jsx)("div",{children:"Testing"}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"btn btn-dark",style:{marginTop:"10px",width:"100px",padding:"8px"},value:"Sign In",onClick:i})})]})}),Object(n.jsxs)("div",{className:"card-footer",children:[Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{className:"card-footerText",to:"/signUp",children:"Sign up here"})}),Object(n.jsx)("div",{})]})]})})})})};a(93);var K=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)(!1),i=Object(o.a)(r,2),d=i[0],j=i[1],l=function(){var e=Object(m.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get_appointment_query",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),c(a),j(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){l()}),[]),Object(n.jsx)(O.a,{children:d?Object(n.jsxs)("div",{className:"booking",children:[Object(n.jsx)("h1",{children:"MyBooking History"}),a.map((function(e){return Object(n.jsx)("ul",{children:Object(n.jsxs)("li",{children:["from ",e.start,"to ",e.end]},e.id)})}))]}):Object(n.jsx)("h1",{children:"Loading"})})};var V=function e(){Object(T.g)();var t=Object(s.useState)(""),a=Object(o.a)(t,2),c=(a[0],a[1]);return Object(s.useEffect)((function(){var e=localStorage.getItem("current-user");e&&c(e)}),[]),new Promise((function(e,t){})),Object(n.jsx)(d.a,{children:Object(n.jsxs)(T.d,{children:[Object(n.jsx)(T.b,{exact:!0,path:"/hola",component:j}),Object(n.jsx)(T.b,{path:"/signUp",component:Q}),Object(n.jsx)(T.b,{path:"/signin",component:U}),Object(n.jsx)(T.b,{path:"/searchpage",component:_}),Object(n.jsx)(T.b,{path:"/MyBooking",component:K}),Object(n.jsx)(T.b,{path:"/createpost",component:C}),Object(n.jsx)(T.b,{path:"/home",component:B}),Object(n.jsx)(T.b,{path:"/make_appointment",component:q}),Object(n.jsx)(T.b,{path:"/",component:U}),Object(n.jsx)(T.b,{path:"/App",component:e})]})})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.570b1aba.chunk.js.map